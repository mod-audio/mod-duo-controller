
/*
************************************************************************************************************************
*
************************************************************************************************************************
*/

#ifndef UTILS_H
#define UTILS_H


/*
************************************************************************************************************************
*           INCLUDE FILES
************************************************************************************************************************
*/

#include <stdint.h>
#include "config.h"


/*
************************************************************************************************************************
*           DO NOT CHANGE THESE DEFINES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           CONFIGURATION DEFINES
************************************************************************************************************************
*/

// uncomment the define below to enable the quotation marks evaluation on strarr_split parser
#define ENABLE_QUOTATION_MARKS


/*
************************************************************************************************************************
*           DATA TYPES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           GLOBAL VARIABLES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           MACRO'S
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           FUNCTION PROTOTYPES
************************************************************************************************************************
*/

// dynamic memory allocation / free
// these functions should be used in replacement to default malloc and free functions of stdlib.h
void* MALLOC(uint32_t n);
void FREE(void *pv);

// splits the string in each whitespace occurrence and returns a array of strings NULL terminated
char** strarr_split(char *str);
// returns the string array length
uint32_t strarr_length(char **str_array);
// joins a string array in a single string
char* strarr_join(char** const str_array);

// converts integer to string and returns the string length
uint32_t int_to_str(int32_t num, char *string, uint32_t string_size, uint8_t zero_leading);
// converts float to string  and returns the string length
uint32_t float_to_str(float num, char *string, uint32_t string_size, uint8_t precision);

// duplicate a string (alternative to strdup)
char *str_duplicate(const char *str);

// delay functions
void delay_us(uint32_t time);
void delay_ms(uint32_t time);

// time convertion functions
float convert_to_ms(const char *unit_from, float value);
float convert_from_ms(const char *unit_to, float value);


/*
************************************************************************************************************************
*           CONFIGURATION ERRORS
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           END HEADER
************************************************************************************************************************
*/

#endif
