
/*
************************************************************************************************************************
*
************************************************************************************************************************
*/

#ifndef DATA_H
#define DATA_H


/*
************************************************************************************************************************
*           INCLUDE FILES
************************************************************************************************************************
*/

#include <stdint.h>


/*
************************************************************************************************************************
*           DO NOT CHANGE THESE DEFINES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           CONFIGURATION DEFINES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           DATA TYPES
************************************************************************************************************************
*/

typedef struct SCALE_POINT_T {
    char *label;
    float value;
} scale_point_t;

typedef struct CONTROL_T {
    uint8_t hardware_type, hardware_id;
    uint8_t actuator_type, actuator_id;
    char *label, *symbol, *unit;
    uint8_t effect_instance, properties;
    float value, minimum, maximum;
    int8_t step, steps;
    uint8_t scale_points_count;
    scale_point_t **scale_points;
} control_t;

typedef struct BYPASS_T {
    uint8_t hardware_type, hardware_id;
    uint8_t actuator_type, actuator_id;
    char *label;
    uint8_t value;
} bypass_t;

typedef struct EFFECT_T {
    uint8_t instance;
    bypass_t bypass;
} effect_t;

typedef struct PEDALBOARD_T {
    char *uid;
    char *name;
    uint8_t effects_count;
    effect_t **effects;
    uint8_t controls_count;
    control_t **controls;
} pedalboard_t;

typedef struct BP_LIST_T {
    char **names, **uids;
    uint8_t count, hover, selected;
} bp_list_t;


/*
************************************************************************************************************************
*           GLOBAL VARIABLES
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           MACRO'S
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           FUNCTION PROTOTYPES
************************************************************************************************************************
*/

control_t * data_parse_control(char **data);
void data_free_control(control_t *control);
bp_list_t *data_parse_banks_list(char **list_data, uint32_t list_count);
void data_free_banks_list(bp_list_t *bp_list);
bp_list_t *data_parse_pedalboards_list(char **list_data, uint32_t list_count);
void data_free_pedalboards_list(bp_list_t *bp_list);


/*
************************************************************************************************************************
*           CONFIGURATION ERRORS
************************************************************************************************************************
*/


/*
************************************************************************************************************************
*           END HEADER
************************************************************************************************************************
*/

#endif
